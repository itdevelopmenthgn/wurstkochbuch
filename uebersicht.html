<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Die W√ºrstelmacher ‚Äì Rezeptbuch</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <img src="logo.png" alt="Die W√ºrstelmacher seit 2018" class="header-logo">
            <div class="header-text">
                <h1>Die W√ºrstelmacher</h1>
                <p class="subtitle">est. 2018 &middot; Rezeptbuch</p>
            </div>
        </div>
        <div class="suche-container" style="display:flex;align-items:center;justify-content:center;gap:0.8rem;">
            <input type="search" id="suchfeld" placeholder="Rezept, Zutat oder Gew√ºrz suchen ‚Ä¶" autocomplete="off">
            <a href="rezept-hinzufuegen.html" style="
                display:inline-block;
                background:rgba(255,248,220,0.2);
                color:#FFF8DC;
                border:2px solid #FFF8DC;
                border-radius:25px;
                padding:0.6rem 1.2rem;
                font-family:Georgia,serif;
                font-size:1rem;
                white-space:nowrap;
                text-decoration:none;
                transition:background 0.2s;
                flex-shrink:0;
            " onmouseover="this.style.background='rgba(210,105,30,0.8)'" onmouseout="this.style.background='rgba(255,248,220,0.2)'">Ôºã Rezept hinzuf√ºgen</a>
            <a href="anleitungen.html" style="
                display:inline-block;
                background:rgba(255,248,220,0.2);
                color:#FFF8DC;
                border:2px solid #FFF8DC;
                border-radius:25px;
                padding:0.6rem 1.2rem;
                font-family:Georgia,serif;
                font-size:1rem;
                white-space:nowrap;
                text-decoration:none;
                transition:background 0.2s;
                flex-shrink:0;
            " onmouseover="this.style.background='rgba(210,105,30,0.8)'" onmouseout="this.style.background='rgba(255,248,220,0.2)'">üìã Anleitungen</a>
        </div>
        <nav>
            <button id="showAll" class="active">Alle Rezepte</button>
            <!-- Weitere Kategorie-Buttons werden dynamisch durch app.js eingef√ºgt -->
        </nav>
    </header>

    <main id="rezeptListe">
        <!-- Rezepte werden hier dynamisch eingef√ºgt -->
    </main>

    <script src="auth.js"></script>
    <script>
        if (sessionStorage.getItem('wk_auth') !== AUTH_HASH) {
            window.location.replace('index.html');
        }
    </script>
    <script src="supabase.js"></script>
    <script src="app.js"></script>
    <script>
        // Ladeindikator
        document.getElementById('rezeptListe').innerHTML =
            '<p style="text-align:center;color:#6D4C41;padding:3rem;font-size:1.2rem;">‚è≥ Rezepte werden geladen ‚Ä¶</p>';

        sb.getAll('rezepte', { order: 'id.asc' }).then(rows => {
            rezepte = rows.map(rowZuRezept);
            bauNavigationAuf();
            zeigeRezepte('Alle');
            updateActiveButton('showAll');
        }).catch(err => {
            document.getElementById('rezeptListe').innerHTML =
                `<p style="text-align:center;color:#c0392b;padding:3rem;">‚ö†Ô∏è Fehler beim Laden: ${err.message}</p>`;
        });
    </script>
</body>
</html>
